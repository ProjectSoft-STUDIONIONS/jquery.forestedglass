/**
 * jQuery.forestedGlass: The effect of frosted glass 
 * 
 * Copyright 2018 @ProjectSoft<projectsoft2009@yandex.ru> 
 * Licensed under the MIT license. 
 * 
 */

!function(a){function b(b){return a(this).each(function(){var d=a(this),e=d.data("forested.glass"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b);e?(e.options=f,c.prototype.checkOptions.call(e)):(d.data("forested.glass",e=new c(this,f)),d.trigger("forested.glass.init"))})}var c=function(b,e){var f=(a(b).data("forested.glass"),d.clone());this.element=b,this.index=c.prototype.index,this.options=a.extend({},c.DEFAULTS,e),this.target=a(b).closest(this.options.target),a("body").append(f),f.attr({id:"jquery_blurfilter_"+c.prototype.index}),a(".blurUno",f).attr({id:"blurUno_"+c.prototype.index}),this.svg=f,this.checkOptions(),++c.prototype.index},d=a('<svg style="display: none !important;" viewBox="0 0 500 500" width="500" height="500" id="jquery_blurfilter"><filter class="blurUno" id="blurUno"><feGaussianBlur class="blurUno_value" stdDeviation="5.00"></feGaussianBlur></filter></svg>');c.VERSION="1.0.0",c.DEFAULTS={target:"body",blur:5},c.prototype.index=0,c.prototype.checkOptions=function(){var b=this.options.blur,c=this.element,d=this.index;this.svg;if(a(".blurUno_value",this.svg)[0].setAttribute("stdDeviation",parseInt(b)+".00"),this.target.length){this.glass?this.glass.css({filter:"unset"}).css({filter:"url('#blurUno_"+d+"')"}):this.glass=a("<div></div>",{class:"forestedglass"}).css({filter:"url('#blurUno_"+d+"')",position:"absolute",background:"inherit",overflow:"hidden","z-index":"0",top:"0px",bottom:"0px",left:"0px",right:"0px",width:"100%",height:"100%"}),a(this.target[0]).prepend(this.glass);var e=this;a(c).data("forested.glass.wininit")||(a(window).on("load.forestedglass scroll.forestedglass resize.forestedglass",function(a){e.checkPosition.call(e)}),a(document).bind("touchmove MSPointerMove pointermove",function(a){e.checkPosition.call(e)}),a(c).data("forested.glass.wininit",!0))}a(c).data("forested.glass",this)},c.prototype.checkPosition=function(){var b=a(this.element),c=a(this.glass),d=b.offset(),e=c.offset(),f={left:d.left,top:d.top,width:b.outerWidth(),height:b.outerHeight()},g={left:e.left,top:e.top,width:c.outerWidth(),height:c.outerHeight()},h={X1:f.left-g.left+"px",X2:f.left-g.left+f.width+"px",Y1:f.top-g.top+"px",Y2:f.top-g.top+f.height+"px"},i="rect("+h.Y1+", "+h.X2+", "+h.Y2+", "+h.X1+")";c.css({clip:i})};var e=a.fn.forestedGlass,f=a.fn.forestedglass;a.fn.forestedGlass=b,a.fn.forestedGlass.Constructor=c,a.fn.forestedGlass.noConflict=function(){return a.fn.forestedGlass=e,this},a.fn.forestedglass=b,a.fn.forestedglass.Constructor=c,a.fn.forestedglass.noConflict=function(){return a.fn.forestedglass=f,this},a('[data-plugin="forestedglass"]').each(function(){var c=a(this);b.call(this,c.data())})}(jQuery);
//# sourceMappingURL=jquery.forestedglass.min.js.map